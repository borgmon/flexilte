import{s as z,e as u,c,a as b,d,b as s,i as J,j as x,k as C,m as U,g as r,J as T,o as V,n as W,r as le}from"../chunks/scheduler.Bh67o3Vo.js";import{S as G,i as H,c as Z,a as ee,m as te,t as ne,b as oe,d as se}from"../chunks/index.BnhmfNAO.js";import{J as ae}from"../chunks/JsonLayout.CaLegjzp.js";import{c as ie,I as pe}from"../chunks/editorStore.C3nwQ-xd.js";import{T as ue}from"../chunks/ButtonBox.C_K9paKY.js";import"../chunks/Icon.GYccF4GM.js";import{w as ce}from"../chunks/index.CqBFx_WO.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.2hqD1lOb.js";const re=ce();function de(l){let e,n,a;return n=new ae({props:{layoutConfig:l[0],components:ie}}),{c(){e=u("div"),Z(n.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var o=b(e);ee(n.$$.fragment,o),o.forEach(d),this.h()},h(){s(e,"class","px-4 container mx-auto h-[30rem] w-full")},m(t,o){J(t,e,o),te(n,e,null),a=!0},p(t,[o]){const _={};o&1&&(_.layoutConfig=t[0]),n.$set(_)},i(t){a||(ne(n.$$.fragment,t),a=!0)},o(t){oe(n.$$.fragment,t),a=!1},d(t){t&&d(e),se(n)}}}function me(l,e,n){let a={rows:[{cols:[{component:"TextBox",props:{text:"Waiting for input"},posX:"middle",posY:"middle",layoutClass:"h-96"}]}]};return re.subscribe(t=>{try{const o=JSON.parse(t);n(0,a=JSON.parse(o.choices[0].message.content)),console.log("ai",a)}catch{}}),[a]}class he extends G{constructor(e){super(),H(this,e,me,de,z,{})}}function fe(l){let e,n,a,t,o,_="Endpoint",B,m,A,v,$,X="Model",N,f,S,I,E,K="API key (stored in browser)",D,y,L,g,P,q,h,M,w,F="Send",R,Q;return{c(){e=u("div"),n=u("div"),a=x(),t=u("label"),o=u("span"),o.textContent=_,B=x(),m=u("input"),A=x(),v=u("label"),$=u("span"),$.textContent=X,N=x(),f=u("input"),S=x(),I=u("label"),E=u("span"),E.textContent=K,D=x(),y=u("input"),L=x(),g=u("div"),P=u("button"),q=x(),h=u("textarea"),M=x(),w=u("button"),w.textContent=F,this.h()},l(i){e=c(i,"DIV",{class:!0});var p=b(e);n=c(p,"DIV",{class:!0}),b(n).forEach(d),a=C(p),t=c(p,"LABEL",{class:!0});var O=b(t);o=c(O,"SPAN",{"data-svelte-h":!0}),U(o)!=="svelte-5ayklz"&&(o.textContent=_),B=C(O),m=c(O,"INPUT",{class:!0,type:!0,placeholder:!0}),O.forEach(d),A=C(p),v=c(p,"LABEL",{class:!0});var Y=b(v);$=c(Y,"SPAN",{"data-svelte-h":!0}),U($)!=="svelte-1m5u4hd"&&($.textContent=X),N=C(Y),f=c(Y,"INPUT",{class:!0,type:!0,placeholder:!0}),Y.forEach(d),S=C(p),I=c(p,"LABEL",{class:!0});var j=b(I);E=c(j,"SPAN",{"data-svelte-h":!0}),U(E)!=="svelte-1rirsag"&&(E.textContent=K),D=C(j),y=c(j,"INPUT",{class:!0,type:!0,placeholder:!0}),j.forEach(d),p.forEach(d),L=C(i),g=c(i,"DIV",{class:!0});var k=b(g);P=c(k,"BUTTON",{class:!0}),b(P).forEach(d),q=C(k),h=c(k,"TEXTAREA",{class:!0,name:!0,id:!0,placeholder:!0,rows:!0}),b(h).forEach(d),M=C(k),w=c(k,"BUTTON",{class:!0,"data-svelte-h":!0}),U(w)!=="svelte-1i8gbo3"&&(w.textContent=F),k.forEach(d),this.h()},h(){s(n,"class","m-4"),s(m,"class","input rounded-container-token"),s(m,"type","text"),s(m,"placeholder","Input"),s(t,"class","label"),s(f,"class","input rounded-container-token"),s(f,"type","text"),s(f,"placeholder","Input"),s(v,"class","label"),s(y,"class","input rounded-container-token"),s(y,"type","password"),s(y,"placeholder","Input"),s(I,"class","label"),s(e,"class","input-group-divider rounded-container-token"),s(P,"class","input-group-shim"),s(h,"class","bg-transparent border-0 ring-0"),s(h,"name","prompt"),s(h,"id","prompt"),s(h,"placeholder","Write a message..."),s(h,"rows","7"),s(w,"class","variant-filled-primary"),s(g,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-container-token mt-6")},m(i,p){J(i,e,p),r(e,n),r(e,a),r(e,t),r(t,o),r(t,B),r(t,m),T(m,l[3]),r(e,A),r(e,v),r(v,$),r(v,N),r(v,f),T(f,l[1]),r(e,S),r(e,I),r(I,E),r(I,D),r(I,y),T(y,l[2]),J(i,L,p),J(i,g,p),r(g,P),r(g,q),r(g,h),T(h,l[0]),r(g,M),r(g,w),R||(Q=[V(m,"input",l[5]),V(f,"input",l[6]),V(y,"input",l[7]),V(h,"input",l[8]),V(w,"click",l[9])],R=!0)},p(i,[p]){p&8&&m.value!==i[3]&&T(m,i[3]),p&2&&f.value!==i[1]&&T(f,i[1]),p&4&&y.value!==i[2]&&T(y,i[2]),p&1&&T(h,i[0])},i:W,o:W,d(i){i&&(d(e),d(L),d(g)),R=!1,le(Q)}}}function ge(l,e,n){let a='You are a AI chatbot that only response JSON. You are required to generate a json based on this example:`{"rows":[{"component":"TextBox","props":{"text":"My Website!","type":"h1"},"posX":"middle"},{"layoutClass":"md:my-12","cols":[{"component":"TextBox","props":{"text":"Hi! This is AI generated!","type":"h1"},"posX":"middle","posY":"middle"},{"component":"CodeBlock","props":{"language":"ts","code":"console.log(123)"},"posX":"middle","posY":"middle"},{"component":"ImageBox","props":{"url":"https://placedog.net/200/200"},"posX":"middle","posY":"middle"}]}]}` You have 3 components you can use: TextBox,CodeBlock,ImageBox. User: Please generate me a personal website',t="gpt-4o",o="sk-",_="https://api.openai.com/v1/chat/completions";async function B(){const N={messages:[{role:"user",content:a}],model:"gpt-3.5-turbo",temperature:1,presence_penalty:0,top_p:1,frequency_penalty:0},S=await(await fetch(_,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(N)})).text();re.set(S)}function m(){_=this.value,n(3,_)}function A(){t=this.value,n(1,t)}function v(){o=this.value,n(2,o)}function $(){a=this.value,n(0,a)}return[a,t,o,_,B,m,A,v,$,()=>B()]}class _e extends G{constructor(e){super(),H(this,e,ge,fe,z,{})}}function ve(l){let e,n,a;return n=new ae({props:{layoutConfig:l[1],components:l[0]}}),{c(){e=u("div"),Z(n.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var o=b(e);ee(n.$$.fragment,o),o.forEach(d),this.h()},h(){s(e,"class","px-4 container mx-auto")},m(t,o){J(t,e,o),te(n,e,null),a=!0},p:W,i(t){a||(ne(n.$$.fragment,t),a=!0)},o(t){oe(n.$$.fragment,t),a=!1},d(t){t&&d(e),se(n)}}}function ye(l){return[{TextBox:ue,ImageBox:pe,ChatView:he,InputView:_e},{rows:[{component:"ChatView"},{component:"InputView"}]}]}class Ee extends G{constructor(e){super(),H(this,e,ye,ve,z,{})}}export{Ee as component};
