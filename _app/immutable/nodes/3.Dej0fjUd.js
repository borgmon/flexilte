import{s as z,e as u,c,a as C,d,b as s,i as L,j as b,k as x,m as V,g as l,J as T,o as J,n as W,r as ie}from"../chunks/scheduler.Bh67o3Vo.js";import{S as G,i as H,c as ee,a as te,m as ne,t as oe,b as se,d as ae}from"../chunks/index.BnhmfNAO.js";import{J as le}from"../chunks/JsonLayout.CaLegjzp.js";import{c as pe,I as ue}from"../chunks/editorStore.C3nwQ-xd.js";import{T as ce}from"../chunks/ButtonBox.C_K9paKY.js";import"../chunks/Icon.GYccF4GM.js";import{w as de}from"../chunks/index.CqBFx_WO.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.2hqD1lOb.js";const re=de();function me(r){let e,n,a;return n=new le({props:{layoutConfig:r[0],components:pe}}),{c(){e=u("div"),ee(n.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var o=C(e);te(n.$$.fragment,o),o.forEach(d),this.h()},h(){s(e,"class","px-4 container mx-auto h-[48rem] w-full")},m(t,o){L(t,e,o),ne(n,e,null),a=!0},p(t,[o]){const _={};o&1&&(_.layoutConfig=t[0]),n.$set(_)},i(t){a||(oe(n.$$.fragment,t),a=!0)},o(t){se(n.$$.fragment,t),a=!1},d(t){t&&d(e),ae(n)}}}function he(r,e,n){let a={rows:[{cols:[{component:"TextBox",props:{text:"Waiting for response"},posX:"middle",posY:"middle",layoutClass:"h-96"}]}]};return re.subscribe(t=>{try{const o=JSON.parse(t);n(0,a=JSON.parse(o.choices[0].message.content)),console.log("ai",a)}catch{}}),[a]}class fe extends G{constructor(e){super(),H(this,e,he,me,z,{})}}function ge(r){let e,n,a,t,o,_="Endpoint",E,m,N,v,$,X="Model",S,f,P,I,k,K="API key (stored in browser)",D,y,O,g,B,F="+",q,h,M,w,Q="Send",R,Z;return{c(){e=u("div"),n=u("div"),a=b(),t=u("label"),o=u("span"),o.textContent=_,E=b(),m=u("input"),N=b(),v=u("label"),$=u("span"),$.textContent=X,S=b(),f=u("input"),P=b(),I=u("label"),k=u("span"),k.textContent=K,D=b(),y=u("input"),O=b(),g=u("div"),B=u("button"),B.textContent=F,q=b(),h=u("textarea"),M=b(),w=u("button"),w.textContent=Q,this.h()},l(i){e=c(i,"DIV",{class:!0});var p=C(e);n=c(p,"DIV",{class:!0}),C(n).forEach(d),a=x(p),t=c(p,"LABEL",{class:!0});var Y=C(t);o=c(Y,"SPAN",{"data-svelte-h":!0}),V(o)!=="svelte-5ayklz"&&(o.textContent=_),E=x(Y),m=c(Y,"INPUT",{class:!0,type:!0,placeholder:!0}),Y.forEach(d),N=x(p),v=c(p,"LABEL",{class:!0});var j=C(v);$=c(j,"SPAN",{"data-svelte-h":!0}),V($)!=="svelte-1m5u4hd"&&($.textContent=X),S=x(j),f=c(j,"INPUT",{class:!0,type:!0,placeholder:!0}),j.forEach(d),P=x(p),I=c(p,"LABEL",{class:!0});var U=C(I);k=c(U,"SPAN",{"data-svelte-h":!0}),V(k)!=="svelte-1rirsag"&&(k.textContent=K),D=x(U),y=c(U,"INPUT",{class:!0,type:!0,placeholder:!0}),U.forEach(d),p.forEach(d),O=x(i),g=c(i,"DIV",{class:!0});var A=C(g);B=c(A,"BUTTON",{class:!0,"data-svelte-h":!0}),V(B)!=="svelte-pe7l84"&&(B.textContent=F),q=x(A),h=c(A,"TEXTAREA",{class:!0,name:!0,id:!0,placeholder:!0,rows:!0}),C(h).forEach(d),M=x(A),w=c(A,"BUTTON",{class:!0,"data-svelte-h":!0}),V(w)!=="svelte-1i8gbo3"&&(w.textContent=Q),A.forEach(d),this.h()},h(){s(n,"class","m-4"),s(m,"class","input rounded-container-token"),s(m,"type","text"),s(m,"placeholder","Input"),s(t,"class","label"),s(f,"class","input rounded-container-token"),s(f,"type","text"),s(f,"placeholder","Input"),s(v,"class","label"),s(y,"class","input rounded-container-token"),s(y,"type","password"),s(y,"placeholder","Input"),s(I,"class","label"),s(e,"class","input-group-divider rounded-container-token"),s(B,"class","input-group-shim"),s(h,"class","bg-transparent border-0 ring-0"),s(h,"name","prompt"),s(h,"id","prompt"),s(h,"placeholder","Write a message..."),s(h,"rows","7"),s(w,"class","variant-filled-primary"),s(g,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-container-token mt-6")},m(i,p){L(i,e,p),l(e,n),l(e,a),l(e,t),l(t,o),l(t,E),l(t,m),T(m,r[3]),l(e,N),l(e,v),l(v,$),l(v,S),l(v,f),T(f,r[1]),l(e,P),l(e,I),l(I,k),l(I,D),l(I,y),T(y,r[2]),L(i,O,p),L(i,g,p),l(g,B),l(g,q),l(g,h),T(h,r[0]),l(g,M),l(g,w),R||(Z=[J(m,"input",r[5]),J(f,"input",r[6]),J(y,"input",r[7]),J(h,"input",r[8]),J(w,"click",r[9])],R=!0)},p(i,[p]){p&8&&m.value!==i[3]&&T(m,i[3]),p&2&&f.value!==i[1]&&T(f,i[1]),p&4&&y.value!==i[2]&&T(y,i[2]),p&1&&T(h,i[0])},i:W,o:W,d(i){i&&(d(e),d(O),d(g)),R=!1,ie(Z)}}}function _e(r,e,n){let a='You are a AI chatbot that only response JSON. You are required to generate a json based on this example:`{"rows":[{"component":"TextBox","props":{"text":"My Website!","type":"h1"},"posX":"middle"},{"layoutClass":"md:my-12","cols":[{"component":"TextBox","props":{"text":"Hi! This is AI generated!","type":"h1"},"posX":"middle","posY":"middle"},{"component":"CodeBlock","props":{"language":"ts","code":"console.log(123)"},"posX":"middle","posY":"middle"},{"component":"ImageBox","props":{"url":"https://placedog.net/200/200"},"posX":"middle","posY":"middle"}]}]}` You have 3 components you can use: TextBox,CodeBlock,ImageBox. User: Please generate me a personal website',t="gpt-4o",o="sk-",_="https://api.openai.com/v1/chat/completions";async function E(){const S={messages:[{role:"user",content:a}],model:"gpt-3.5-turbo",temperature:1,presence_penalty:0,top_p:1,frequency_penalty:0},P=await(await fetch(_,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(S)})).text();re.set(P)}function m(){_=this.value,n(3,_)}function N(){t=this.value,n(1,t)}function v(){o=this.value,n(2,o)}function $(){a=this.value,n(0,a)}return[a,t,o,_,E,m,N,v,$,()=>E()]}class ve extends G{constructor(e){super(),H(this,e,_e,ge,z,{})}}function ye(r){let e,n,a;return n=new le({props:{layoutConfig:r[1],components:r[0]}}),{c(){e=u("div"),ee(n.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var o=C(e);te(n.$$.fragment,o),o.forEach(d),this.h()},h(){s(e,"class","px-4 container mx-auto")},m(t,o){L(t,e,o),ne(n,e,null),a=!0},p:W,i(t){a||(oe(n.$$.fragment,t),a=!0)},o(t){se(n.$$.fragment,t),a=!1},d(t){t&&d(e),ae(n)}}}function be(r){return[{TextBox:ce,ImageBox:ue,ChatView:fe,InputView:ve},{rows:[{component:"ChatView"},{component:"InputView"}]}]}class ke extends G{constructor(e){super(),H(this,e,be,ye,z,{})}}export{ke as component};
